<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RIMO â€” ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</title>

<!-- ê³µí†µ í…Œë§ˆ -->
<link rel="stylesheet" href="rimo_theme.css?v=20250911" />

<style>
  :root{
    /* ê³µí†µ í† í° */
    --accent:#2a5bff;
    --accent-glow: rgba(122,167,255,.45);

    /* ê¸°ë³¸ ì¹© ë°°ê²½/í…Œë‘ë¦¬ */
    --chip-bg:#101223; 
    --chip-bd:#2b2e54;

    /* ê¸°ë³¸ ì»¨íŠ¸ë¡¤ ë£©(ë†’ì´/ë‘¥ê¸€ê¸°/í°íŠ¸ ë“±) */
    --control-h: 44px;
    --control-radius: 12px;
    --control-bg: #0f1020;
    --control-bd: #2c2f48;
    --control-ink: #fff;
    --control-ph: #9aa0b6;
    --control-font: 14px;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",Roboto,Helvetica,Arial,sans-serif;
  }

  /* í—¤ë” */
  header{
    position:sticky; top:0; z-index:5;
    background:rgba(11,11,15,.9);
    -webkit-backdrop-filter:blur(8px); backdrop-filter:blur(8px);
    border-bottom:1px solid var(--border-1);
  }
  .bar{display:flex;gap:10px;align-items:center;padding:14px 16px;height:56px}
  .logo{font-weight:900}
  .title{font-weight:800;opacity:.9}
  .home{margin-left:auto;font-size:22px}

  /* ë³¸ë¬¸ */
  main{display:flex;flex-direction:column;gap:12px}
  .panel{padding:12px;display:flex;flex-direction:column;gap:12px}

  /* í¼ ê³µí†µ */
  .form-row{display:flex;align-items:center;gap:8px}
  .form-row label{width:64px;font-weight:800;white-space:nowrap}
  .field{flex:1;min-width:0}
  .field input,
  .field select,
  .field textarea{
    appearance:none; width:100%;
    height:var(--control-h);
    padding:12px 14px;
    border:1px solid var(--control-bd);
    border-radius:var(--control-radius);
    background:var(--control-bg);
    color:var(--control-ink);
    font-size:var(--control-font);
    font-family:inherit;
  }
  .field textarea{height:96px; resize:vertical}
  .field input::placeholder,
  .field textarea::placeholder{color:var(--control-ph)}
  .field input:focus,
  .field select:focus,
  .field textarea:focus{
    outline:none;
    border-color:var(--accent);
    box-shadow:
      0 0 0 2px rgba(122,167,255,.25) inset,
      0 0 12px rgba(122,167,255,.28);
  }

  /* 2ì—´ í¼(ì •ì›/í…Œë§ˆì²˜ëŸ¼ ì¢Œìš°ë¡œ) */
  .form-row.split{
    display:grid;
    grid-template-columns: 1fr 1fr;
    column-gap:12px; row-gap:8px;
    align-items:center;
  }
  .form-row.split .col{display:flex;align-items:center;gap:8px;min-width:0}
  .form-row.split .col label{width:64px}

  /* í† ê¸€(í•„ ë²„íŠ¼) */
  .toggles{display:flex;flex-wrap:wrap;gap:10px}
  .toggle{
    display:inline-flex;align-items:center;justify-content:center;
    padding:10px 14px;border-radius:999px;
    border:1px solid var(--chip-bd);
    background:var(--chip-bg);
    color:#fff;                    /* ìš”êµ¬ì‚¬í•­: ê¸€ì í°ìƒ‰ */
    font-weight:700;font-size:14px;
    cursor:pointer; user-select:none; white-space:nowrap;
    transition:.15s ease;
  }
  .toggle.active{
    border-color:var(--accent);
    background:rgba(122,167,255,.16);
    box-shadow:
      0 0 0 2px rgba(122,167,255,.25) inset,
      0 0 12px var(--accent-glow); /* ìš”êµ¬ì‚¬í•­: íŒŒë€ ê¸€ë¡œìš° */
    transform:translateY(-1px) scale(1.03);
  }

  /* ì•¡ì…˜ ë²„íŠ¼ */
  .btn-row{display:flex;gap:10px;flex-wrap:wrap}
  .btn{
    flex:1; min-width:120px;
    padding:14px; border-radius:12px; border:none; cursor:pointer;
    color:#fff; font-weight:800; background:var(--accent);
  }
  .btn.secondary{background:#2c2f48}

  /* í•˜ë‹¨ íƒ­ë°”(ì–´ë“œë¯¼ ë©”ë‰´) */
  .adminbar{
    position:fixed; left:0; right:0; bottom:12px; z-index:20;
    display:flex; gap:12px; justify-content:center; flex-wrap:wrap;
  }
  .adminbar a{
    text-decoration:none; font-weight:800; color:var(--tab-ink);
    background:var(--tab-bg); border:1px solid var(--tab-bd);
    padding:12px 16px; border-radius:18px; font-size:14px;
  }
  .adminbar a.primary{background:var(--tab-pri); border-color:var(--tab-pri-bd)}

  /* === ëª¨ë°”ì¼ íŠœë‹ (ìš”êµ¬ì‚¬í•­) === */
  @media (max-width: 480px){
    /* ë¼ë²¨â†”ì…ë ¥ ê°„ê²© ì¶•ì†Œ */
    .form-row{ gap:6px; }
    .form-row label{ width: 44px; }             /* ì¢Œ ë¼ë²¨ í­ ì¶•ì†Œ */
    .form-row.split .col label{ width: 34px; }  /* ì •ì›/í…Œë§ˆ ë¼ë²¨ì€ ë” íƒ€ì´íŠ¸ */

    /* ì •ì›/í…Œë§ˆ 1í–‰ 2ì—´ ê°•ì œ */
    .form-row.split{
      grid-template-columns: 1fr 1fr;
      column-gap:10px;
    }

    /* ì»¨íŠ¸ë¡¤ ì¡°ê¸ˆ ì»´íŒ©íŠ¸ */
    .field input, .field select{ height: 42px; padding: 10px 12px; }
  }

  /* ë” ì¢ì€ í™”ë©´ ëŒ€ì‘ */
  @media (max-width: 360px){
    .form-row label{ width: 38px; }
    .form-row.split .col label{ width: 30px; }
  }
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="logo">ğŸï¸ RIMO</div>
    <div class="title">ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</div>
    <a class="home" href="index.html" aria-label="ë©”ì¸ìœ¼ë¡œ">ğŸ </a>
  </div>
</header>

<main>
  <section class="panel">
    <!-- ì œëª© -->
    <div class="form-row">
      <label for="title">ì œëª©</label>
      <div class="field">
        <input id="title" type="text" placeholder="ì˜ˆ: &lt;ê°€ì„ë§ì´ ì¹´í˜ ë¼ì´ë”©&gt;">
      </div>
    </div>

    <!-- ì¶œë°œ ì¼ì‹œ -->
    <div class="form-row">
      <label for="when">ì¶œë°œ ì¼ì‹œ</label>
      <div class="field">
        <!-- í…ìŠ¤íŠ¸ ì…ë ¥ì„ ìœ ì§€(ìš´ì˜ë°©ì‹ì— ë§ê²Œ) -->
        <input id="when" type="text" placeholder="ì˜ˆ: 9ì›” 20ì¼ 23:00">
      </div>
    </div>

    <!-- ì¶œë°œì§€ / ë„ì°©ì§€ -->
    <div class="form-row">
      <label for="from">ì¶œë°œì§€</label>
      <div class="field">
        <input id="from" type="text" placeholder="ì˜ˆ: GS25 í•œê°•ë¥´ë„¤ìƒìŠ¤ ë°˜í¬2í˜¸ì ">
      </div>
    </div>
    <div class="form-row">
      <label for="to">ë„ì°©ì§€</label>
      <div class="field">
        <input id="to" type="text" placeholder="ì˜ˆ: RSG ì„±ìˆ˜">
      </div>
    </div>

    <!-- ì •ì› / í…Œë§ˆ (2ì—´) -->
    <div class="form-row split">
      <div class="col">
        <label for="cap">ì •ì›</label>
        <div class="field">
          <input id="cap" type="number" min="1" max="30" value="4">
        </div>
      </div>
      <div class="col">
        <label for="theme">í…Œë§ˆ</label>
        <div class="field">
          <select id="theme">
            <option value="blue">blue</option>
            <option value="red">red</option>
            <option value="yellow">yellow</option>
            <option value="green">green</option>
          </select>
        </div>
      </div>
    </div>

    <!-- ë°°ê¸°ëŸ‰ -->
    <div class="form-row">
      <label for="cc">ë°°ê¸°ëŸ‰</label>
      <div class="field">
        <select id="cc">
          <option>ì „ì²´</option>
          <option>125cc ì´í•˜</option>
          <option>150â€“300cc</option>
          <option>400â€“700cc</option>
          <option>750cc ì´ìƒ</option>
        </select>
      </div>
    </div>

    <!-- ìŠ¤íƒ€ì¼ -->
    <div class="form-row">
      <label>ìŠ¤íƒ€ì¼</label>
      <div class="field">
        <div class="toggles" id="styleToggles">
          <span class="toggle" data-v="Urban">Urban</span>
          <span class="toggle" data-v="Curve">Curve</span>
          <span class="toggle" data-v="Tour">Tour</span>
        </div>
      </div>
    </div>

    <!-- í˜ì´ìŠ¤ -->
    <div class="form-row">
      <label>í˜ì´ìŠ¤</label>
      <div class="field">
        <div class="toggles" id="paceToggles">
          <span class="toggle" data-v="Easy">Easy</span>
          <span class="toggle" data-v="Balanced">Balanced</span>
          <span class="toggle" data-v="Dynamic">Dynamic</span>
        </div>
      </div>
    </div>

    <!-- ì¶”ê°€ ë©”ì‹œì§€ -->
    <div class="form-row">
      <label for="msg">ë©”ì‹œì§€</label>
      <div class="field">
        <textarea id="msg" placeholder="ê°„ë‹¨í•œ ì•ˆë‚´/ì¡°ê±´ ë“±ì„ ì ì–´ì£¼ì„¸ìš”"></textarea>
      </div>
    </div>

    <!-- ì•¡ì…˜ -->
    <div class="btn-row">
      <button class="btn" id="publishBtn">ë°œí–‰í•˜ê¸°</button>
      <button class="btn secondary" id="resetBtn">ë¦¬ì…‹</button>
    </div>
  </section>
</main>

<!-- ì–´ë“œë¯¼ í•˜ë‹¨ ë©”ë‰´(ì˜ˆì‹œ) -->
<nav class="adminbar" aria-label="ì–´ë“œë¯¼ ë©”ë‰´">
  <a href="rimo_admin_create.html" class="primary">í¬ë£¨ ìƒì„±</a>
  <a href="rimo_admin_match.html">ë§¤ì¹­ ê´€ë¦¬</a>
  <a href="rimo_admin_route.html">ë£¨íŠ¸ ì œì•ˆ</a>
  <a href="rimo_admin_review.html">í›„ê¸° ê´€ë¦¬</a>
  <a href="rimo_admin_db.html">DBê´€ë¦¬</a>
</nav>

<script>
  // ì¹© í† ê¸€ ê³µí†µ
  function wireToggles(containerId){
    const el = document.getElementById(containerId);
    el.addEventListener('click', e=>{
      const t = e.target.closest('.toggle');
      if(!t) return;
      t.classList.toggle('active');
    });
    return () => [...el.querySelectorAll('.toggle.active')].map(n=>n.dataset.v);
  }
  const getStyles = wireToggles('styleToggles');
  const getPaces  = wireToggles('paceToggles');

  // ë¡œì»¬ ì €ì¥ì†Œ í‚¤(ë©”ì¸ í˜ì´ì§€ì™€ ë™ì¼í•˜ê²Œ)
  const LS_CREWS = 'rimo_crews_v1';

  // ë°œí–‰
  document.getElementById('publishBtn').addEventListener('click', ()=>{
    const title = document.getElementById('title').value.trim();
    const when  = document.getElementById('when').value.trim();
    const from  = document.getElementById('from').value.trim();
    const to    = document.getElementById('to').value.trim();
    const cap   = Number(document.getElementById('cap').value||4);
    const theme = document.getElementById('theme').value;
    const cc    = document.getElementById('cc').value;
    const msg   = document.getElementById('msg').value.trim();
    const styles= getStyles();
    const pace  = getPaces();

    if(!title || !when || !from || !to){
      alert('ì œëª©/ì¼ì‹œ/ì¶œë°œì§€/ë„ì°©ì§€ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.');
      return;
    }

    // ì €ì¥ í˜•ì‹ì€ ë©”ì¸(index)ì—ì„œ ì“°ëŠ” êµ¬ì¡°ì— ë§ì¶° ì˜ˆì‹œë¡œ ìƒì„±
    let crews = [];
    try{ crews = JSON.parse(localStorage.getItem(LS_CREWS)||'[]'); }catch(_){}
    crews.unshift({
      id: 'c_'+Math.random().toString(36).slice(2,9),
      theme,
      title,
      time: when,
      from, to,
      // TODO: í•„ìš”ì‹œ ìœ„ì¹˜ ì¢Œí‘œ ì…ë ¥/ì§€ì˜¤ì½”ë”© í›„ ë„£ê¸°
      lat: 37.5665, lng:126.9780,
      toLat:37.55,  toLng:127.0,
      peopleNow: 0, peopleMax: cap,
      styles, cc, pace, msg
    });
    localStorage.setItem(LS_CREWS, JSON.stringify(crews));
    alert('ë°œí–‰ ì™„ë£Œ! ë©”ì¸ í™”ë©´ì—ì„œ ì¹´ë“œê°€ ë³´ì…ë‹ˆë‹¤.');
  });

  // ë¦¬ì…‹
  document.getElementById('resetBtn').addEventListener('click', ()=>{
    document.querySelectorAll('input, textarea').forEach(i=> i.value='');
    document.querySelectorAll('.toggle').forEach(t=> t.classList.remove('active'));
    document.getElementById('cap').value = 4;
    document.getElementById('theme').value = 'blue';
    document.getElementById('cc').value = 'ì „ì²´';
  });
</script>
</body>
</html>
