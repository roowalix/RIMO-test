<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RIMO â€” ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</title>
<style>
  :root{
    --bg:#0b0b0f; --fg:#e8e8ef; --muted:#b9b9cc; --line:#232333;
    --tile:#141627; --tile2:#101223; --accent:#7aa7ff; --good:#2aa84a; --bad:#ff5d5d;
    --chip-bg:#14172a; --chip-bd:#2b2e54; --accent-glow: rgba(122,167,255,.35);

    /* Theme Colors */
    --t-red:#ff5d5d;      --t-red-bg:rgba(255,93,93,.14);      --t-red-br:rgba(255,93,93,.35);
    --t-blue:#7aa7ff;     --t-blue-bg:rgba(122,167,255,.14);   --t-blue-br:rgba(122,167,255,.35);
    --t-yellow:#ffd85d;   --t-yellow-bg:rgba(255,216,93,.16);  --t-yellow-br:rgba(255,216,93,.38);
    --t-green:#56d364;    --t-green-bg:rgba(86,211,100,.16);   --t-green-br:rgba(86,211,100,.42);
    --t-purple:#a78bfa;   --t-purple-bg:rgba(167,139,250,.16); --t-purple-br:rgba(167,139,250,.42);

    --label-w: 56px; --label-gap: 2px;
    --label-w-sm: 44px; --label-gap-sm: 2px;
  }
  *{box-sizing:border-box}
  body{margin:0;background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",Roboto,Arial,sans-serif}

  header{position:sticky;top:0;z-index:5;background:rgba(11,11,15,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
  .bar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 16px}
  .title{font-weight:900;font-size:16px}
  .home-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;font-size:30px;border-radius:8px;border:none;background:transparent;cursor:pointer}
  .home-btn:hover{background:rgba(255,255,255,.08)}

  main{padding:16px;display:grid;gap:16px;max-width:980px;margin:0 auto;padding-bottom:120px}
  .panel{background:var(--tile);border:1px solid var(--line);border-radius:14px;padding:4px 14px 16px 16px}

  .row{display:grid;grid-template-columns: var(--label-w) 1fr;gap: var(--label-gap);align-items:center;margin:10px 0}
  .row.no-label{grid-template-columns:1fr}
  .row>label{font-weight:700;color:#cfd1e8;font-size:14px;white-space:nowrap}
  .field{min-width:0}.field>*{width:100%}
  @media (max-width:560px){ .row{grid-template-columns: var(--label-w-sm) 1fr;gap: var(--label-gap-sm)} }

  input,select,textarea{width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2c2f48;background:#0f1020;color:#fff;font-size:14px}
  input:focus,select:focus,textarea:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-glow),0 0 0 1px var(--accent) inset}
  .row:has(input:focus)>label,
  .row:has(select:focus)>label,
  .row:has(textarea:focus)>label{color:#eef3ff}

  .coords{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  .toggles{display:flex;gap:10px;flex-wrap:wrap;margin:0}
  .toggle{display:inline-flex;align-items:center;gap:14px;padding:8px 12px;border-radius:999px;color:#e6e9ff;font-size:13px;cursor:pointer;user-select:none;background:var(--chip-bg); border:1px solid var(--chip-bd)}
  .toggle.active{border-color:var(--accent); background:rgba(122,167,255,.16); box-shadow:0 0 10px var(--accent-glow); font-weight:500}

  .themes{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .theme-btn{display:grid;grid-template-columns:auto 1fr;align-items:center;gap:0;padding:4px 8px;border-radius:16px;border:1px solid #2b2e48;background:#14172a;color:#e8e8ef;font-size:12px;font-weight:500;cursor:pointer}
  .theme-btn.active{box-shadow:0 0 0 1px currentColor inset, 0 0 12px currentColor}
  .theme-btn[data-theme="red"]{color:var(--t-red)}
  .theme-btn[data-theme="blue"]{color:var(--t-blue)}
  .theme-btn[data-theme="yellow"]{color:var(--t-yellow)}
  .theme-btn[data-theme="green"]{color:var(--t-green)}
  .theme-btn[data-theme="purple"]{color:var(--t-purple)}

  .btn{padding:10px 14px;border-radius:10px;border:1px solid #2b2e48;background:#1b1d2e;color:#fff;cursor:pointer;margin-top:6px;font-weight:700}
  .btn.primary{background:#2a5bff;border-color:#3d6aff}
  .btnbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;justify-content:center}

  .r-card{position:relative; background:#121428; border:1px solid rgba(255,255,255,.14); border-radius:16px; padding:14px; box-shadow:0 2px 14px rgba(0,0,0,.28);margin-bottom:10px}
  .r-card h3{margin:0 0 6px;font-size:16px;font-weight:700}
  .r-meta{display:flex;align-items:center;gap:6px;color:#cfd2ff;font-size:14px;flex-wrap:wrap}
  .r-meta .sep{opacity:.5}
  .r-route{margin:6px 0 4px;color:#ced2f9;font-size:14px}
  .r-msg{color:#e6e8ff;font-size:14px;margin:6px 0}
  .r-chips{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}
  .r-chip{padding:6px 10px;border-radius:999px;font-size:12px;font-weight:700;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.16);color:#e6e8ef}
  .r-chip.is-urban{background:#1e2d55}
  .r-chip.is-curve{background:#2a1f56}
  .r-chip.is-tour{background:#1e3b3a}
  .r-chip.is-easy{background:#1f3a1f}
  .r-chip.is-balanced{background:#3a341e}
  .r-chip.is-dynamic{background:#3a1f1f}

  .r-actions{margin-top:10px; display:flex; gap:8px; flex-wrap:wrap}
  .r-actions .act{padding:8px 12px; border-radius:10px; font-weight:800; cursor:pointer;border:1px solid #2b2e48; background:#1b1d2e; color:#e6e8ff}
  .r-actions .act.pub{ background:#2340ff}
  .r-actions .act.del{ background:#2a1b24}

  .r-del{position:absolute;top:8px;right:8px;width:28px;height:28px;border-radius:8px;border:1px solid #2b2e48;background:#171a2c;color:#cfd2ff;cursor:pointer}
  .edit-banner{margin:8px 0 0;color:#cfe0ff;font-size:12px}

  .btmnav{position:fixed;left:0;right:0;bottom:0;z-index:10;background:rgba(11,11,15,.9);backdrop-filter:blur(10px);border-top:1px solid var(--line)}
  .btmnav .wrap{max-width:980px;margin:0 auto;display:grid;grid-template-columns:repeat(5,1fr);gap:10px;padding:8px}
  .navitem{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 4px;border-radius:10px;border:1px solid #2b2e48;background:#14172a;font-size:12px;text-align:center;color:var(--fg);text-decoration:none}
  .navitem.active{background:#27306a}
  .navitem .ico{font-size:18px}
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="title">ğŸï¸ RIMO â€” ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</div>
    <button class="home-btn" id="goMain">ğŸ </button>
  </div>
</header>

<main>
  <!-- ì…ë ¥ íŒ¨ë„ ìƒëµ (ìœ„ ì½”ë“œ ë™ì¼) -->
  <!-- ... -->
</main>

<nav class="btmnav">
  <div class="wrap">
    <a class="navitem active" href="rimo_crew.html"><div class="ico">ğŸ› ï¸</div><div>í¬ë£¨ ìƒì„±</div></a>
    <a class="navitem" href="rimo_joins.html"><div class="ico">ğŸ¤</div><div>ë§¤ì¹­ í¬ë§</div></a>
    <a class="navitem" href="rimo_routes.html"><div class="ico">ğŸ—ºï¸</div><div>ë£¨íŠ¸ ì œì•ˆ</div></a>
    <a class="navitem" href="rimo_feedback.html"><div class="ico">ğŸ“</div><div>í›„ê¸° ëª¨ìŒ</div></a>
    <a class="navitem" href="rimo_data.html"><div class="ico">ğŸ—„ï¸</div><div>ìë£Œ ê´€ë¦¬</div></a>
  </div>
</nav>

<script>
const MAIN_URL="https://roowalix.github.io/RIMO-test/index.html";
const WEB_APP_URL="https://script.google.com/macros/s/AKfycbw4BXsdN6GEkqKyto0Yxwc3G1b6gn1p8YLOrW2PMOSRpbIZcKKZpjF0GlDcJuCPB7jiTw/exec";
const SHARED_TOKEN="";

const PUBLIST_KEY='rimo_published_cards_server_cache';

/* publishToMain / removeFromMain â€” index ìºì‹œ ë¬´íš¨í™” ì¶”ê°€ */
function publishToMain(id){
  if(!id) return;
  sendToSheet({id}, 'main_on');
  try{localStorage.removeItem('rimo_index_main_cards_cache_v2');}catch(_){}
  alert('ë©”ì¸ ë°œí–‰ ìš”ì²­ ë³´ëƒ„');
}
function removeFromMain(id){
  if(!id) return;
  if(!confirm('ë©”ì¸ì—ì„œ ì‚­ì œí• ê¹Œìš”?')) return;
  sendToSheet({id}, 'main_off');
  try{localStorage.removeItem('rimo_index_main_cards_cache_v2');}catch(_){}
  alert('ë©”ì¸ ì‚­ì œ ìš”ì²­ ë³´ëƒ„');
}

/* style/paceëŠ” í•­ìƒ ë°°ì—´ë¡œ ìœ ì§€ */
function normList(v){
  if(Array.isArray(v)) return v;
  if(!v) return [];
  if(typeof v==="string"){
    try{const j=JSON.parse(v); if(Array.isArray(j)) return j;}catch(_){}
    return v.split(/[,\|Â·/]/).map(s=>s.trim()).filter(Boolean);
  }
  return [];
}
</script>
</body>
</html>
