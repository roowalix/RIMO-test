<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RIMO â€” ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</title>
<style>
  :root{
    --bg:#0b0b0f; --fg:#e8e8ef; --muted:#b9b9cc; --line:#232333;
    --tile:#141627; --tile2:#101223; --accent:#7aa7ff; --good:#2aa84a; --bad:#ff5d5d;
    --chip-bg:#14172a; --chip-bd:#2b2e54; --chip-on:#27306a; --chip-on-bd:#3a4aa2;
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:var(--bg);color:var(--fg);
    font-family:-apple-system,BlinkMacSystemFont,"Noto Sans KR",Roboto,Arial,sans-serif
  }

  /* í—¤ë” */
  header{position:sticky;top:0;z-index:5;background:rgba(11,11,15,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
  .bar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 16px}
  .title{font-weight:900;font-size:16px}
  .home-btn{width:42px;height:42px;display:flex;align-items:center;justify-content:center;font-size:24px;border-radius:8px;border:none;background:transparent;cursor:pointer;transition:background .2s}
  .home-btn:hover{background:rgba(255,255,255,.08)}

  /* ë³¸ë¬¸ ë ˆì´ì•„ì›ƒ & ì»¨íŠ¸ë¡¤ */
  main{padding:16px;display:grid;gap:16px;max-width:980px;margin:0 auto;padding-bottom:110px}
  .panel{background:var(--tile);border:1px solid var(--line);border-radius:14px;padding:14px}
  .panel h3{margin:0 0 12px;font-size:16px}
  .row{display:grid;grid-template-columns:140px 1fr;gap:10px;align-items:center;margin:8px 0}
  @media (max-width:560px){ .row{grid-template-columns:110px 1fr} }
  .row label{font-weight:700;color:#cfd1e8;font-size:13px} /* rimo_profile ë¼ë²¨ í¬ê¸° ë§ì¶¤ */
  .field{display:block}
  input,select,textarea{
    width:100%;padding:10px 12px;border-radius:10px;border:1px solid #2c2f48;background:#0f1020;color:#fff;font-size:14px
  }
  textarea{min-height:90px;resize:vertical}
  .two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
  @media (max-width:720px){ .two{grid-template-columns:1fr} }

  /* ì¹© ë²„íŠ¼ */
  .chips{display:flex;gap:8px;flex-wrap:wrap}
  .chip{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;background:var(--chip-bg);border:1px solid var(--chip-bd);cursor:pointer;font-size:13px}
  .chip.on{background:var(--chip-on);border-color:var(--chip-on-bd)}
  .chip .x{display:none}
  .chip.on .x{display:inline}

  /* ë²„íŠ¼ */
  .btnbar{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .btn{padding:10px 14px;border-radius:10px;border:1px solid #2b2e48;background:#1b1d2e;color:#fff;cursor:pointer}
  .btn.primary{background:#2a5bff;border-color:#3d6aff}

  /* í•˜ë‹¨ ë„¤ë¹„ (ë‹¤ì¤‘ í˜ì´ì§€ ë§í¬) */
  .btmnav{position:fixed;left:0;right:0;bottom:0;z-index:10;background:rgba(11,11,15,.9);backdrop-filter:blur(10px);border-top:1px solid var(--line)}
  .btmnav .wrap{max-width:980px;margin:0 auto;display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:14px;padding:8px}
  .navitem{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:4px;padding:8px 4px;border-radius:10px;border:1px solid #2b2e48;background:#14172a;cursor:pointer;font-size:12px;text-align:center;user-select:none;transition:background .2s,transform .1s;text-decoration:none;color:var(--fg)}
  .navitem.active{background:#27306a;border-color:#3a4aa2}
  .navitem .ico{font-size:18px;line-height:1}
  .navitem:active{transform:translateY(1px)}
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="title">ğŸï¸ RIMO â€” ì–´ë“œë¯¼ Â· í¬ë£¨ ìƒì„±</div>
    <button class="home-btn" id="goMain" title="ë©”ì¸ ì´ë™">ğŸ </button>
  </div>
</header>

<main>
  <!-- ===== í¬ë£¨ ìƒì„± ===== -->
  <section class="panel">
    <h3>í¬ë£¨ ìƒì„±</h3>

    <div class="row">
      <label for="c_title">ì œëª©</label>
      <div class="field"><input id="c_title" placeholder="ì˜ˆ: &lt;ê°€ì„ë§ì´ ì¹´í˜ ë¼ì´ë”©&gt;"></div>
    </div>

    <div class="row">
      <label for="c_time">ì¶œë°œ ì¼ì‹œ</label>
      <div class="field"><input id="c_time" type="text" placeholder="ì˜ˆ: 9ì›” 20ì¼ 23:00"></div>
    </div>

    <div class="row">
      <label for="c_from">ì¶œë°œì§€</label>
      <div class="field"><input id="c_from" placeholder="ì˜ˆ: GS25 í•œê°•ë¥´ë„¤ìƒìŠ¤ ë°˜í¬2í˜¸"></div>
    </div>

    <div class="row">
      <label for="c_to">ë„ì°©ì§€</label>
      <div class="field"><input id="c_to" placeholder="ì˜ˆ: RSG ì„±ìˆ˜"></div>
    </div>

    <div class="row">
      <label>ì •ì› / í…Œë§ˆ</label>
      <div class="field two">
        <input id="c_capacity" type="number" min="1" value="4" placeholder="ì •ì›">
        <select id="c_theme" title="í…Œë§ˆ">
          <option value="red">red</option>
          <option value="yellow">yellow</option>
          <option value="blue" selected>blue</option>
          <option value="green">green</option>
        </select>
      </div>
    </div>

    <div class="row">
      <label for="c_cc">ë°°ê¸°ëŸ‰</label>
      <div class="field">
        <select id="c_cc">
          <option value="">ì „ì²´</option>
          <option>125cc ì´í•˜</option>
          <option>125~250</option>
          <option>250~400</option>
          <option>400~800</option>
          <option>800 ì´ìƒ</option>
        </select>
      </div>
    </div>

    <div class="row">
      <label>ìŠ¤íƒ€ì¼</label>
      <div class="field">
        <div id="styleChips" class="chips"></div>
      </div>
    </div>

    <div class="row">
      <label>í˜ì´ìŠ¤</label>
      <div class="field">
        <div id="paceChips" class="chips"></div>
      </div>
    </div>

    <div class="row">
      <label for="c_msg">ë©”ì‹œì§€</label>
      <div class="field"><textarea id="c_msg" placeholder="ê°„ë‹¨í•œ ì•ˆë‚´/ë¶„ìœ„ê¸°"></textarea></div>
    </div>

    <div class="btnbar">
      <button class="btn" id="btnDraft">ë“œë˜í”„íŠ¸ ì €ì¥</button>
      <button class="btn primary" id="btnPublish">ë©”ì¸ì— ë°œí–‰</button>
    </div>
  </section>
</main>

<!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜: íŒŒì¼ ë§í¬ êµ¬ì¡° -->
<nav class="btmnav" aria-label="í•˜ë‹¨ ë‚´ë¹„ê²Œì´ì…˜">
  <div class="wrap">
    <a class="navitem active" href="rimo_crew.html" title="í¬ë£¨ ìƒì„±">
      <div class="ico">ğŸ› ï¸</div><div>í¬ë£¨ ìƒì„±</div>
    </a>
    <a class="navitem" href="rimo_joins.html" title="ë§¤ì¹­ í¬ë§">
      <div class="ico">ğŸ¤</div><div>ë§¤ì¹­ í¬ë§</div>
    </a>
    <a class="navitem" href="rimo_routes.html" title="ë£¨íŠ¸ ì œì•ˆ">
      <div class="ico">ğŸ—ºï¸</div><div>ë£¨íŠ¸ ì œì•ˆ</div>
    </a>
    <a class="navitem" href="rimo_feedback.html" title="í›„ê¸° ëª¨ìŒ">
      <div class="ico">ğŸ“</div><div>í›„ê¸° ëª¨ìŒ</div>
    </a>
    <a class="navitem" href="rimo_data.html" title="ìë£Œ ê´€ë¦¬">
      <div class="ico">ğŸ—„ï¸</div><div>ìë£Œ ê´€ë¦¬</div>
    </a>
  </div>
</nav>

<script>
/* ---------- config ---------- */
const MAIN_URL = "/"; // ë©”ì¸ í˜ì´ì§€ URLë¡œ êµì²´í•˜ì„¸ìš”.

/* ---------- chips data ---------- */
const STYLE_OPTS = ["Urban","Curve","Tour"];
const PACE_OPTS  = ["Easy","Balanced","Dynamic"];

/* ---------- helpers ---------- */
const qs=(s,p=document)=>p.querySelector(s);
const qsa=(s,p=document)=>Array.from(p.querySelectorAll(s));
const save=(k,v)=>localStorage.setItem(k,JSON.stringify(v));
const load=(k,def)=>{try{return JSON.parse(localStorage.getItem(k)||JSON.stringify(def))}catch(e){return def}};

function makeChip(label, on=false){
  const el=document.createElement('button');
  el.type='button';
  el.className='chip'+(on?' on':'');
  el.dataset.val=label;
  el.innerHTML = `<span>${label}</span><span class="x">âœ“</span>`;
  el.addEventListener('click',()=> el.classList.toggle('on'));
  return el;
}
function renderChips(containerId, options, selected=[]){
  const box=qs('#'+containerId); box.innerHTML='';
  options.forEach(opt=> box.appendChild(makeChip(opt, selected.includes(opt))) );
}
function selectedChips(containerId){
  return qsa('#'+containerId+' .chip.on').map(c=>c.dataset.val);
}

/* ---------- ë©”ì¸ ì´ë™ ---------- */
const goMainBtn = document.getElementById('goMain');
if(goMainBtn){
  goMainBtn.addEventListener('click', (e)=>{
    if(!MAIN_URL || MAIN_URL==="#"){ e.preventDefault(); alert("MAIN_URLì„ ë©”ì¸ì£¼ì†Œë¡œ ì„¤ì •í•˜ì„¸ìš”."); return; }
    window.open(MAIN_URL,'_blank');
  });
}

/* ---------- í¼ ìˆ˜ì§‘ ---------- */
function getForm(){
  return {
    title: qs('#c_title')?.value.trim() || "",
    time: qs('#c_time')?.value.trim() || "",
    from: qs('#c_from')?.value.trim() || "",
    to: qs('#c_to')?.value.trim() || "",
    peopleMax: parseInt(qs('#c_capacity')?.value||'0',10),
    theme: qs('#c_theme')?.value || "",
    cc: qs('#c_cc')?.value || "",
    styles: selectedChips('styleChips'),
    pace: selectedChips('paceChips'),
    msg: qs('#c_msg')?.value.trim() || ""
  };
}

/* ---------- ë²„íŠ¼ ë™ì‘ ---------- */
qs('#btnDraft')?.addEventListener('click', ()=>{
  const draft=getForm();
  save('rimo_create_draft_v2', draft);
  alert('ë“œë˜í”„íŠ¸ ì €ì¥ ì™„ë£Œ');
});

qs('#btnPublish')?.addEventListener('click', ()=>{
  const data=getForm();
  if(!data.title || !data.time || !data.from || !data.to){
    alert('ì œëª©/ì¼ì‹œ/ì¶œë°œì§€/ë„ì°©ì§€ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.'); return;
  }
  save('rimo_last_published_preview', data);
  alert('ì„ì‹œ ë°œí–‰ ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
});

/* ---------- init ---------- */
(function init(){
  const d=load('rimo_create_draft_v2',null);
  renderChips('styleChips', STYLE_OPTS, d?.styles||[]);
  renderChips('paceChips',  PACE_OPTS,  d?.pace||[]);
  if(d){
    qs('#c_title').value=d.title||'';
    qs('#c_time').value=d.time||'';
    qs('#c_from').value=d.from||'';
    qs('#c_to').value=d.to||'';
    qs('#c_capacity').value=d.peopleMax||4;
    qs('#c_theme').value=d.theme||'blue';
    qs('#c_cc').value=d.cc||'';
    qs('#c_msg').value=d.msg||'';
  }else{
    qs('#c_capacity').value=4;
    qs('#c_theme').value='blue';
  }
})();
</script>
</body>
</html>
